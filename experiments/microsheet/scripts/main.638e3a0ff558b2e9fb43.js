webpackJsonp([1],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(149),n(234),n(448),n(447);var o=n(45),a=r(o),i=n(193),u=r(i),l=n(148),c=n(128),d=n(226),s=r(d),f=n(225),p=(r(f),n(89),n(238)),g=r(p),y=n(237),E=r(y),m=[s.default],h=l.applyMiddleware.apply(void 0,m),v=(0,l.createStore)(g.default,h);u.default.render(a.default.createElement(c.Provider,{store:v},a.default.createElement(E.default,null)),document.getElementById("app"))},59:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=t.ALPHABET="ABCDEFGHIJKLMNOPQRSTUVWXYZ",o=(t.createEmptyCoor=function(){return[void 0,void 0]},t.createEmptyRange=function(){return[[void 0,void 0],[void 0,void 0]]},t.isValidCoor=function(e){return void 0!==e[0]&&void 0!==e[1]}),a=(t.isValidRange=function(e){return o(e[0])&&o(e[1])},t.isMatchingCoors=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.isCoorInRange=function(e,t){return e[0]>=t[0][0]&&e[0]<=t[1][0]&&e[1]>=t[0][1]&&e[1]<=t[1][1]}),i=t.getAddrFromCoor=function(e){return""+r[e[1]]+(e[0]+1)},u=t.getCoorFromAddr=function(e){var t=parseInt(e.substring(1))-1,n=r.indexOf(e.charAt(0))>-1?r.indexOf(e.charAt(0)):void 0;return[t,n]},l=t.absoluteRange=function(e){return[[Math.min(e[0][0],e[1][0]),Math.min(e[0][1],e[1][1])],[Math.max(e[0][0],e[1][0]),Math.max(e[0][1],e[1][1])]]},c=t.rangeSize=function(e){var t=l(e);return(t[1][0]-t[0][0]+1)*(t[1][1]-t[0][1]+1)},d=(t.getAddrRangeFromCoorRange=function(e){return 1===c(e)?i(e[0]):i(e[0])+":"+i(e[1])},t.getCoorRangeFromAddrRange=function(e){if(e.indexOf(":")===-1)return[u(e),u(e)];var t=e.split(":"),r=n(t,2),o=r[0],a=r[1];return[u(o),u(a)]}),s=t.clampCoorToRange=function(e,t){var n=l(t);return[Math.min(Math.max(e[0],n[0][0]),n[1][0]),Math.min(Math.max(e[1],n[0][1]),n[1][1])]},f=(t.clampRangeToRange=function(e,t){return[s(e[0],t),s(e[1],t)]},t.expandCoorRange=function(e){for(var t=l(e),n=[],r=t[0][0];r<=t[1][0];r++)for(var o=t[0][1];o<=t[1][1];o++)n.push([r,o]);return n});t.expandAddrRange=function(e){var t=d(e),n=f(t).map(function(e){return i(e)});return n.join(",")},t.isCoorAtTopEdgeOfRange=function(e,t){return a(e,t)&&e[0]===t[0][0]},t.isCoorAtBottomEdgeOfRange=function(e,t){return a(e,t)&&e[0]===t[1][0]},t.isCoorAtLeftEdgeOfRange=function(e,t){return a(e,t)&&e[1]===t[0][1]},t.isCoorAtRightEdgeOfRange=function(e,t){return a(e,t)&&e[1]===t[1][1]},t.translateCoor=function(e,t){return[e[0]+t[0],e[1]+t[1]]},t.translationIdentities={up:[-1,0],down:[1,0],left:[0,-1],right:[0,1]}},98:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return e.set("selectionMode","basic").set("selectedRange",p.default.fromJS(t))}function u(e,t){var n=[Math.abs(t[0][0]-t[1][0]),Math.abs(t[0][1]-t[1][1])];return n[1]>n[0]?t[1]=[t[0][0],t[1][1]]:t[1]=[t[1][0],t[0][1]],e.set("selectionMode","autofill").set("selectedRange",p.default.fromJS(t))}function l(e,t){var n=e.get("formulaValueInsertPos"),r=void 0;r=1===h.rangeSize(t)?h.getAddrFromCoor(t[0]):h.getAddrRangeFromCoorRange(t);var o=e.get("formulaValue"),a=o.substring(0,n)+r+o.substring(n);return e.set("editValue",a).set("selectionMode","formula").set("selectedRange",p.default.fromJS(t))}function c(e,t,n){var r=E.getSheetExtent(e.get("data")),o=h.clampRangeToRange(n,r);return"basic"===t?i(e,o):"autofill"===t?u(e,o):"formula"===t?l(e,o):e}function d(e,t,n){var r=e.get("data"),o=n;return o=E.isFormula(n)?E.capitalizeExpression(n):E.canCoerceToNumber(n)?E.coerceToNumber(n):n.trim(),r=r.setIn([].concat(a(t),["raw"]),o),r=E.computeSheet(r),e.set("data",r)}function s(e){return e.set("editMode","none").set("editCoor",p.default.fromJS(h.createEmptyCoor())).set("editValue","").set("isEditValueDirty",!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.actionHandlers=t.updatedEditValueCaretPos=t.updatedEditValue=t.deletedRange=t.discardedEditValue=t.committedEditValue=t.startedEditingCell=t.changedSelectedRange=t.changedSelectedRangeEnd=t.changedSelectedRangeStart=t.stoppedSelectingRange=t.startedSelectingRange=t.changedPrimarySelectedCoor=t.UPDATED_EDIT_VALUE_CARET_POS=t.UPDATED_EDIT_VALUE=t.DELETED_RANGE=t.DISCARDED_EDIT_VALUE=t.COMMITTED_EDIT_VALUE=t.STARTED_EDITING_CELL=t.CHANGED_SELECTED_RANGE=t.CHANGED_SELECTED_RANGE_END=t.CHANGED_SELECTED_RANGE_START=t.STOPPED_SELECTING_RANGE=t.STARTED_SELECTING_RANGE=t.CHANGED_PRIMARY_SELECTED_COOR=void 0;var f=n(89),p=o(f),g=n(244),y=n(99),E=r(y),m=n(59),h=r(m),v=p.default.fromJS({data:[[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}],[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}],[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}],[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}],[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}],[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}],[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}],[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}],[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}],[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}],[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}],[{raw:"",val:""},{raw:"",val:""},{raw:"",val:""}]],primarySelectedCoor:h.createEmptyCoor(),selectionMode:"none",selectedRange:h.createEmptyRange(),isSelectingRange:!1,editMode:"none",editCoor:[null,null],editValue:"",editValueCaretPos:0,isEditValueDirty:!1,formulaValue:"",formulaValueInsertPos:0}),b=t.CHANGED_PRIMARY_SELECTED_COOR="CHANGED_PRIMARY_SELECTED_COOR",S=t.STARTED_SELECTING_RANGE="STARTED_SELECTING_RANGE",_=t.STOPPED_SELECTING_RANGE="STOPPED_SELECTING_RANGE",A=t.CHANGED_SELECTED_RANGE_START="CHANGED_SELECTED_RANGE_START",T=t.CHANGED_SELECTED_RANGE_END="CHANGED_SELECTED_RANGE_END",C=t.CHANGED_SELECTED_RANGE="CHANGED_SELECTED_RANGE",R=t.STARTED_EDITING_CELL="STARTED_EDITING_CELL",D=t.COMMITTED_EDIT_VALUE="COMMITTED_EDIT_VALUE",w=t.DISCARDED_EDIT_VALUE="DISCARDED_EDIT_VALUE",M=t.DELETED_RANGE="DELETED_RANGE",O=t.UPDATED_EDIT_VALUE="UPDATED_EDIT_VALUE",P=t.UPDATED_EDIT_VALUE_CARET_POS="UPDATED_EDIT_VALUE_CARET_POS",I=(t.changedPrimarySelectedCoor=function(e){return{type:b,coor:e}},t.startedSelectingRange=function(e,t){return{type:S,mode:e,coor:t}},t.stoppedSelectingRange=function(){return{type:_}},t.changedSelectedRangeStart=function(e){return{type:A,coor:e}},t.changedSelectedRangeEnd=function(e){return{type:T,coor:e}},t.changedSelectedRange=function(e,t){return{type:C,mode:e,range:t}},t.startedEditingCell=function(e,t){return{type:R,mode:e,coor:t}},t.committedEditValue=function(){return{type:D}},t.discardedEditValue=function(){return{type:w}},t.deletedRange=function(e){return{type:M,range:e}},t.updatedEditValue=function(e){return{type:O,value:e}},t.updatedEditValueCaretPos=function(e){return{type:P,pos:e}},t.actionHandlers={CHANGED_PRIMARY_SELECTED_COOR:function(e,t){var n=t.coor,r=E.getSheetExtent(e.get("data")),o=h.clampCoorToRange(n,r);return i(e,[o,o]).set("primarySelectedCoor",p.default.fromJS(o))},STARTED_SELECTING_RANGE:function(e,t){var n=t.mode,r=t.coor,o=e;return"formula"===n&&(o=o.set("formulaValue",o.get("editValue")).set("formulaValueInsertPos",o.get("editValueCaretPos"))),c(o,n,[r,r]).set("isSelectingRange",!0).set("selectionMode",n)},STOPPED_SELECTING_RANGE:function(e){var t=e.set("isSelectingRange",!1);if("autofill"===t.get("selectionMode")){var n=t.get("data");n=E.autofillSheet(n,t.get("selectedRange").toJS()),n=E.computeSheet(n),t=i(t,t.get("selectedRange").toJS()).set("data",n)}return t},CHANGED_SELECTED_RANGE:function(e,t){var n=t.mode,r=t.range;return c(e,n,r)},CHANGED_SELECTED_RANGE_START:function(e,t){var n=t.coor;return c(e,e.get("selectionMode"),[n,e.getIn(["selectedRange",1]).toJS()])},CHANGED_SELECTED_RANGE_END:function(e,t){var n=t.coor;return c(e,e.get("selectionMode"),[e.getIn(["selectedRange",0]).toJS(),n])},STARTED_EDITING_CELL:function(e,t){var n=t.mode,r=t.coor;return i(e,[r,r]).set("editMode",n).set("editCoor",new p.default.List(r)).set("editValue",e.getIn(["data"].concat(a(r),["raw"]))).set("isEditValueDirty",!1)},UPDATED_EDIT_VALUE:function(e,t){var n=t.value;return e.set("editValue",n).set("isEditValueDirty",!0)},UPDATED_EDIT_VALUE_CARET_POS:function(e,t){var n=t.pos;return e.set("editValueCaretPos",n).set("isEditValueDirty",!0)},COMMITTED_EDIT_VALUE:function(e){var t=e;return t=d(t,t.get("editCoor"),t.get("editValue")),t=s(t)},DISCARDED_EDIT_VALUE:function(e){return s(e)},DELETED_RANGE:function(e,t){var n=t.range,r=e.get("data");return h.expandCoorRange(n).forEach(function(e){r=r.setIn([].concat(a(e),["raw"]),"")}),r=E.computeSheet(r),e.set("data",r)}});t.default=(0,g.createReducer)(v,I)},99:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSheetExtent=t.autofillSheet=t.computeSheet=t.sanitizeExpression=t.capitalizeExpression=t.canInsertCellRefAfterChar=t.isFormula=t.coerceToNumber=t.canCoerceToNumber=void 0;var o=n(59),a=t.canCoerceToNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},i=(t.coerceToNumber=function(e){return a(e)?parseFloat(e):e},t.isFormula=function(e){return"string"==typeof e&&"="===e.charAt(0)}),u=(t.canInsertCellRefAfterChar=function(e){return/[+\-*\/()=,]/.test(e)},t.capitalizeExpression=function(e){return e.replace(/sum|average|[a-z]\d{1,2}/gi,function(e){return e.toUpperCase()})},t.sanitizeExpression=function(e){return e.replace(/[^+\-*\/().,:\dA-Z]/g,"").replace(/(SUM|AVERAGE)(?!\()/g,"").replace(/[A-Z]{2,}/g,function(e){return["SUM","AVERAGE"].includes(e)?e:""}).replace(/[A-Z]\d{1,2}:[A-Z]\d{1,2}/g,function(e){return(0,o.expandAddrRange)(e)})});t.computeSheet=function(e){var t=e.reduce(function(e,t,n){return t.reduce(function(e,t,r){return e["_"+(0,o.getAddrFromCoor)([n,r])]=t.get("raw"),e},e)},{});t.SUM=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return e+t},0)},t.AVERAGE=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return e+t},0)/t.length};var n=new Function("obj","expr","with (obj) {return eval(expr)}"),r=!1;Object.keys(t).forEach(function(e){Object.defineProperty(t,e.substring(1),{get:function(){var o=t[e];if(i(o)){if(1===o.length)throw new Error("Empty formula");var a=u(o.substring(1)),l=n(t,a);if("undefined"==typeof l)throw new Error("Bad formula");return l}return r&&"string"==typeof o?0:o}})});var a=e.map(function(e,n){return e.map(function(e,a){var u=void 0;r=i(e.get("raw"));try{u=t[(0,o.getAddrFromCoor)([n,a])]}catch(e){u="#ERROR!"}return r=!1,e.set("val",u.toString())})});return a},t.autofillSheet=function(e,t){for(var n=t[0],a=e.getIn([].concat(r(t[0]),["raw"])),u=(0,o.absoluteRange)(t),l=e,c=u[0][0];c<=u[1][0];c++)for(var d=function(e){var t=[c-n[0],e-n[1]],r=void 0;r=i(a)?a.replace(/([A-Z])(\d{1,2})/g,function(e,n,r){var a=o.ALPHABET[o.ALPHABET.indexOf(n)+t[1]],i=parseInt(r)+t[0];return a+i}):a,l=l.setIn([c,e,"raw"],r)},s=u[0][1];s<=u[1][1];s++)d(s);return l},t.getSheetExtent=function(e){var t=e.size-1,n=e.get(0).size-1;return[[0,0],[t,n]]}},184:function(e,t){e.exports={sheetTable:"sheetTable_sheetTable_2eqEu",number:"sheetTable_number_xV2cm",primary:"sheetTable_primary_2gBCg",editing:"sheetTable_editing_1rTw4",rangeSelected:"sheetTable_rangeSelected_26L_O",topEdge:"sheetTable_topEdge_kmB9a",bottomEdge:"sheetTable_bottomEdge_FAH2q",leftEdge:"sheetTable_leftEdge_2hHI9",rightEdge:"sheetTable_rightEdge_2beDC",autofillSelected:"sheetTable_autofillSelected_2unMY",insertionSelected:"sheetTable_insertionSelected_106_Y",autofillHandle:"sheetTable_autofillHandle_eGINp",formula:"sheetTable_formula_2wVO6"}},227:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionCreators={undo:function(){return{type:n.UNDO}},redo:function(){return{type:n.REDO}},jumpToFuture:function(e){return{type:n.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:n.JUMP_TO_PAST,index:e}},jump:function(e){return{type:n.JUMP,index:e}},clearHistory:function(){return{type:n.CLEAR_HISTORY}}}},228:function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}function r(e){return"undefined"!=typeof e.present&&"undefined"!=typeof e.future&&"undefined"!=typeof e.past&&Array.isArray(e.future)&&Array.isArray(e.past)}function o(){return console.warn("distinctState is deprecated in beta4 and newer. The distinctState behavior is now default, which means only actions resulting in a new state are recorded. See https://github.com/omnidan/redux-undo#filtering-actions for more details."),function(){return!0}}function a(e){var t=n(e);return function(e){return t.indexOf(e.type)>=0}}function i(e){var t=n(e);return function(e){return t.indexOf(e.type)<0}}function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(n,r,o){return e(n,r,o)&&t(n,r,o)}},function(){return!0})}function l(e){var t=n(e);return function(e){return t.indexOf(e.type)>=0?e.type:null}}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{past:e,present:t,future:n,group:r,_latestUnfiltered:t,index:e.length,limit:e.length+n.length+1}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=n,t.isHistory=r,t.distinctState=o,t.includeAction=a,t.excludeAction=i,t.combineFilters=u,t.groupByActionTypes=l,t.newHistory=c},229:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(227);Object.defineProperty(t,"ActionTypes",{enumerable:!0,get:function(){return o.ActionTypes}}),Object.defineProperty(t,"ActionCreators",{enumerable:!0,get:function(){return o.ActionCreators}});var a=n(228);Object.defineProperty(t,"parseActions",{enumerable:!0,get:function(){return a.parseActions}}),Object.defineProperty(t,"isHistory",{enumerable:!0,get:function(){return a.isHistory}}),Object.defineProperty(t,"distinctState",{enumerable:!0,get:function(){return a.distinctState}}),Object.defineProperty(t,"includeAction",{enumerable:!0,get:function(){return a.includeAction}}),Object.defineProperty(t,"excludeAction",{enumerable:!0,get:function(){return a.excludeAction}}),Object.defineProperty(t,"combineFilters",{enumerable:!0,get:function(){return a.combineFilters}}),Object.defineProperty(t,"groupByActionTypes",{enumerable:!0,get:function(){return a.groupByActionTypes}}),Object.defineProperty(t,"newHistory",{enumerable:!0,get:function(){return a.newHistory}});var i=n(538);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},235:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(184),i=r(a),u=n(45),l=r(u),c=n(243),d=n(99),s=n(59),f=function(e){var t,n="autofill"===e.selectionMode&&e.isInRange,r="formula"===e.selectionMode&&e.isInRange,a=(0,s.absoluteRange)(e.selectedRange.toJS()),u=(0,c.classNames)((t={},o(t,i.default.primary,e.isPrimaryCell),o(t,i.default.editing,e.isEditing),o(t,i.default.rangeSelected,e.isInRange&&(0,s.rangeSize)(e.selectedRange.toJS())>1),o(t,i.default.number,(0,d.canCoerceToNumber)(e.cellData.get("val"))),o(t,i.default.insertionSelected,r),o(t,i.default.autofillSelected,n),o(t,i.default.topEdge,(0,s.isCoorAtTopEdgeOfRange)(e.cellCoor,a)),o(t,i.default.bottomEdge,(0,s.isCoorAtBottomEdgeOfRange)(e.cellCoor,a)),o(t,i.default.leftEdge,(0,s.isCoorAtLeftEdgeOfRange)(e.cellCoor,a)),o(t,i.default.rightEdge,(0,s.isCoorAtRightEdgeOfRange)(e.cellCoor,a)),t)),f=void 0;if(e.isEditing){var p;f=l.default.createElement("td",{className:u},l.default.createElement("input",{type:"text",value:e.editValue,className:(0,c.classNames)((p={},o(p,i.default.number,(0,d.canCoerceToNumber)(e.cellData.get("val"))),o(p,i.default.formula,(0,d.isFormula)(e.cellData.get("raw"))),p)),onChange:function(t){return e.updatedEditValue(t.target.value)},onSelect:function(t){return e.updatedEditValueCaretPos(t.target.selectionStart)},onKeyDown:function(e){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Tab","Escape"].some(function(t){return t===e.key})||e.stopPropagation()},ref:function(t){t&&!e.isEditValueDirty&&(t.focus(),"quick"===e.editMode?t.select():t.setSelectionRange(t.value.length,t.value.length))}}))}else f=l.default.createElement("td",{className:u,onMouseDown:function(t){t.preventDefault(),t.shiftKey?e.cellShiftMouseDown(e.cellCoor):e.cellMouseDown(e.cellCoor)},onMouseUp:function(){return e.cellMouseUp(e.cellCoor)},onMouseOver:function(){return e.cellMouseOver(e.cellCoor)},onDoubleClick:function(){return e.cellDoubleClick(e.cellCoor)}},l.default.createElement("span",null,e.cellData.get("val")),e.isPrimaryCell&&1===(0,s.rangeSize)(e.selectedRange.toJS())?l.default.createElement("div",{className:i.default.autofillHandle,onMouseDown:function(t){t.stopPropagation(),e.autofillMouseDown(e.cellCoor)},onMouseUp:function(t){t.stopPropagation(),e.autofillMouseUp()}}):null);return f};t.default=f},236:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(184),c=r(l),d=n(45),s=r(d),f=n(59),p=n(241),g=r(p),y=n(235),E=r(y),m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDocumentMouseUp=n.onDocumentMouseUp.bind(n),n.hotkeyHandler=(0,g.default)({enter:e.tableKeyEnter,"shift+enter":e.tableKeyShiftEnter,tab:{callback:e.tableKeyTab,preventDefault:!0},"shift+tab":{callback:e.tableKeyShiftTab,preventDefault:!0},backspace:{callback:e.tableKeyDelete,preventDefault:!0},del:e.tableKeyDelete,esc:e.tableKeyEsc,up:e.tableKeyUp,"shift+up":e.tableKeyShiftUp,"mod+up":e.tableKeyCmdUp,"mod+shift+up":e.tableKeyCmdShiftUp,down:e.tableKeyDown,"shift+down":e.tableKeyShiftDown,"mod+down":e.tableKeyCmdDown,"mod+shift+down":e.tableKeyCmdShiftDown,left:e.tableKeyLeft,"shift+left":e.tableKeyShiftLeft,"mod+left":{callback:e.tableKeyCmdLeft,preventDefault:!0},"mod+shift+left":e.tableKeyCmdShiftLeft,right:e.tableKeyRight,"shift+right":e.tableKeyShiftRight,"mod+right":{callback:e.tableKeyCmdRight,preventDefault:!0},"mod+shift+right":e.tableKeyCmdShiftRight,"mod+a":{callback:e.tableSelectAll,preventDefault:!0},"mod+z":e.tableUndo,"mod+shift+z":e.tableRedo}),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onDocumentMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"onDocumentMouseUp",value:function(){this.props.documentMouseUp()}},{key:"onTableKeyDown",value:function(e){var t=this.hotkeyHandler(e);t||(0,p.isModifierKey)(e)||e.metaKey||e.ctrlKey||"Escape"===e.key||this.props.tableKeyOther()}},{key:"onUpdateTableRef",value:function(e){e&&"none"===this.props.sheet.get("editMode")&&e.focus()}},{key:"render",value:function(){var e=this,t=this.props;return s.default.createElement("table",{tabIndex:"0",className:c.default.sheetTable,onKeyDown:function(t){return e.onTableKeyDown(t)},ref:function(t){return e.onUpdateTableRef(t)}},s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("th",null),t.rowHeaderData.map(function(e,t){return s.default.createElement("th",{scope:"col",key:t},e)})),t.sheet.get("data").map(function(e,n){return s.default.createElement("tr",{key:n},s.default.createElement("th",{scope:"row"},t.colHeaderData.get(n)),e.map(function(e,r){var o=[n,r];return s.default.createElement(E.default,{key:r,cellData:e,cellCoor:o,isPrimaryCell:(0,f.isMatchingCoors)(o,t.sheet.get("primarySelectedCoor").toJS()),isEditing:(0,f.isMatchingCoors)(o,t.sheet.get("editCoor").toJS()),isInRange:(0,f.isCoorInRange)(o,(0,f.absoluteRange)(t.sheet.get("selectedRange").toJS())),selectionMode:t.sheet.get("selectionMode"),selectedRange:t.sheet.get("selectedRange"),editMode:t.sheet.get("editMode"),editValue:t.sheet.get("editValue"),isEditValueDirty:t.sheet.get("isEditValueDirty"),cellMouseDown:t.cellMouseDown,cellMouseOver:t.cellMouseOver,cellMouseUp:t.cellMouseUp,cellShiftMouseDown:t.cellShiftMouseDown,cellDoubleClick:t.cellDoubleClick,autofillMouseDown:t.autofillMouseDown,autofillMouseUp:t.autofillMouseUp,updatedEditValue:t.updatedEditValue,updatedEditValueCaretPos:t.updatedEditValueCaretPos})}))})))}}]),t}(s.default.Component);t.default=m},237:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(446),u=o(i),l=n(128),c=n(45),d=o(c),s=n(98),f=r(s),p=n(239),g=r(p),y=n(240),E=n(236),m=o(E),h=function(e){return d.default.createElement("div",{className:u.default.container},d.default.createElement("h1",{className:u.default.title},"microsheet"),d.default.createElement(m.default,e),d.default.createElement("div",{className:u.default.footer},d.default.createElement("a",{href:"https://github.com/webroo/microsheet"},"github")))},v=function(e){return{sheet:e.present.get("sheet"),rowHeaderData:(0,y.rowHeaderSelector)(e.present.get("sheet")),colHeaderData:(0,y.colHeaderSelector)(e.present.get("sheet"))}},b=a({updatedEditValue:f.updatedEditValue,updatedEditValueCaretPos:f.updatedEditValueCaretPos},g);t.default=(0,l.connect)(v,b)(h)},238:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(242),a=n(229),i=r(a),u=n(98),l=r(u),c=(0,o.combineImmutableReducers)({sheet:l.default});t.default=(0,i.default)(c,{filter:(0,a.includeAction)(u.STARTED_EDITING_CELL)})},239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableRedo=t.tableUndo=t.tableKeyOther=t.tableKeyCmdShiftRight=t.tableKeyCmdShiftLeft=t.tableKeyCmdShiftDown=t.tableKeyCmdShiftUp=t.tableKeyCmdRight=t.tableKeyCmdLeft=t.tableKeyCmdDown=t.tableKeyCmdUp=t.tableSelectAll=t.tableKeyShiftRight=t.tableKeyShiftLeft=t.tableKeyShiftDown=t.tableKeyShiftUp=t.tableKeyShiftArrow=t.tableKeyRight=t.tableKeyLeft=t.tableKeyDown=t.tableKeyUp=t.tableKeyArrow=t.tableKeyDelete=t.tableKeyEsc=t.tableKeyShiftTab=t.tableKeyTab=t.tableKeyShiftEnter=t.tableKeyEnter=t.documentMouseUp=t.autofillMouseUp=t.autofillMouseDown=t.cellDoubleClick=t.cellShiftMouseDown=t.cellMouseUp=t.cellMouseOver=t.cellMouseDown=void 0;var r=n(229),o=n(99),a=n(59),i=n(98),u=(t.cellMouseDown=function(e){return function(t,n){var r=n().present.getIn(["sheet"]);if("none"!==r.get("editMode")){if((0,o.isFormula)(r.get("editValue")))return void t((0,i.startedSelectingRange)("formula",e));t((0,i.committedEditValue)())}t((0,i.startedSelectingRange)("basic",e)),t((0,i.changedPrimarySelectedCoor)(e))}},t.cellMouseOver=function(e){return function(t,n){var r=n().present.getIn(["sheet"]);r.get("isSelectingRange")&&t((0,i.changedSelectedRangeEnd)(e))}},t.cellMouseUp=function(){return function(e){e((0,i.stoppedSelectingRange)())}},t.cellShiftMouseDown=function(e){return function(t){t((0,i.changedSelectedRangeEnd)(e))}},t.cellDoubleClick=function(e){return function(t){t((0,i.startedEditingCell)("full",e))}},t.autofillMouseDown=function(e){return function(t){t((0,i.startedSelectingRange)("autofill",e))}},t.autofillMouseUp=function(){return function(e){e((0,i.stoppedSelectingRange)())}},t.documentMouseUp=function(){return function(e,t){t().present.getIn(["sheet","isSelectingRange"])&&e((0,i.stoppedSelectingRange)())}},t.tableKeyEnter=function(e){return function(t,n){var r=n().present.getIn(["sheet"]);if("none"===r.get("editMode"))t((0,i.startedEditingCell)("full",r.get("primarySelectedCoor")));else{var o=e?a.translationIdentities.up:a.translationIdentities.down,u=(0,a.translateCoor)(r.get("primarySelectedCoor").toJS(),o);t((0,i.committedEditValue)()),t((0,i.changedPrimarySelectedCoor)(u))}}}),l=(t.tableKeyShiftEnter=function(){return function(e){e(u(!0))}},t.tableKeyTab=function(e){return function(t,n){var r=n().present.getIn(["sheet"]),o=e?a.translationIdentities.left:a.translationIdentities.right,u=(0,a.translateCoor)(r.get("primarySelectedCoor").toJS(),o);"none"===r.get("editMode")?t((0,i.changedPrimarySelectedCoor)(u)):(t((0,i.committedEditValue)()),t((0,i.changedPrimarySelectedCoor)(u)))}}),c=(t.tableKeyShiftTab=function(){return function(e){e(l(!0))}},t.tableKeyEsc=function(){return function(e,t){var n=t().present.getIn(["sheet"]);"none"!==n.get("editMode")&&e((0,i.discardedEditValue)())}},t.tableKeyDelete=function(){return function(e,t){var n=t().present.getIn(["sheet"]);e((0,i.deletedRange)(n.get("selectedRange").toJS()))}},t.tableKeyArrow=function(e){return function(t,n){var r=n().present.getIn(["sheet"]);if("quick"===r.get("editMode")&&t((0,i.committedEditValue)()),"full"!==r.get("editMode")){var o=r.get("primarySelectedCoor").toJS(),u=a.translationIdentities[e],l=(0,a.translateCoor)(o,u);t((0,i.changedPrimarySelectedCoor)(l))}}}),d=(t.tableKeyUp=function(){return function(e){e(c("up"))}},t.tableKeyDown=function(){return function(e){e(c("down"))}},t.tableKeyLeft=function(){return function(e){e(c("left"))}},t.tableKeyRight=function(){return function(e){e(c("right"))}},t.tableKeyShiftArrow=function(e){return function(t,n){var r=n().present.getIn(["sheet"]);if("quick"===r.get("editMode"))t((0,i.committedEditValue)());else if("none"===r.get("editMode")){var o=r.getIn(["selectedRange",1]).toJS(),u=a.translationIdentities[e],l=(0,a.translateCoor)(o,u);t((0,i.changedSelectedRangeEnd)(l))}}});t.tableKeyShiftUp=function(){return function(e){e(d("up"))}},t.tableKeyShiftDown=function(){return function(e){e(d("down"))}},t.tableKeyShiftLeft=function(){return function(e){e(d("left"))}},t.tableKeyShiftRight=function(){return function(e){e(d("right"))}},t.tableSelectAll=function(){return function(e,t){var n=t().present.getIn(["sheet"]);if("none"===n.get("editMode")){var r=(0,o.getSheetExtent)(n.get("data"));e((0,i.changedSelectedRange)("basic",r))}}},t.tableKeyCmdUp=function(){return function(e,t){var n=t().present.getIn(["sheet"]),r=n.get("primarySelectedCoor").set(0,0).toJS();e((0,i.changedPrimarySelectedCoor)(r))}},t.tableKeyCmdDown=function(){return function(e,t){var n=t().present.getIn(["sheet"]),r=(0,o.getSheetExtent)(n.get("data")),a=n.get("primarySelectedCoor").set(0,r[1][0]).toJS();e((0,i.changedPrimarySelectedCoor)(a))}},t.tableKeyCmdLeft=function(){return function(e,t){var n=t().present.getIn(["sheet"]),r=n.get("primarySelectedCoor").set(1,0).toJS();e((0,i.changedPrimarySelectedCoor)(r))}},t.tableKeyCmdRight=function(){return function(e,t){var n=t().present.getIn(["sheet"]),r=(0,o.getSheetExtent)(n.get("data")),a=n.get("primarySelectedCoor").set(1,r[1][1]).toJS();e((0,i.changedPrimarySelectedCoor)(a))}},t.tableKeyCmdShiftUp=function(){return function(e,t){var n=t().present.getIn(["sheet"]),r=n.getIn(["selectedRange",1]).set(0,0).toJS();e((0,i.changedSelectedRangeEnd)(r))}},t.tableKeyCmdShiftDown=function(){return function(e,t){var n=t().present.getIn(["sheet"]),r=(0,o.getSheetExtent)(n.get("data")),a=n.getIn(["selectedRange",1]).set(0,r[1][0]).toJS();e((0,i.changedSelectedRangeEnd)(a))}},t.tableKeyCmdShiftLeft=function(){return function(e,t){var n=t().present.getIn(["sheet"]),r=n.getIn(["selectedRange",1]).set(1,0).toJS();e((0,i.changedSelectedRangeEnd)(r))}},t.tableKeyCmdShiftRight=function(){return function(e,t){var n=t().present.getIn(["sheet"]),r=(0,o.getSheetExtent)(n.get("data")),a=n.getIn(["selectedRange",1]).set(1,r[1][1]).toJS();e((0,i.changedSelectedRangeEnd)(a))}},t.tableKeyOther=function(){return function(e,t){var n=t().present.getIn(["sheet"]);e((0,i.startedEditingCell)("quick",n.get("primarySelectedCoor").toJS()))}},t.tableUndo=function(){return function(e){e(r.ActionCreators.undo())}},t.tableRedo=function(){return function(e){e(r.ActionCreators.redo())}}},240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.colHeaderSelector=t.rowHeaderSelector=void 0;var r=n(233),o=n(59),a=function(e){return e};t.rowHeaderSelector=(0,r.createSelector)([a],function(e){return e.getIn(["data",0]).map(function(e,t){return o.ALPHABET[t]})}),t.colHeaderSelector=(0,r.createSelector)([a],function(e){return e.get("data").map(function(e,t){return(t+1).toString()})})},241:function(e,t){"use strict";function n(e){return e.split("+").map(function(e){return d[e]?d[e]:e}).sort().join("+")}function r(e){return Object.keys(e).reduce(function(t,r){return t[n(r)]=e[r],t},{})}function o(e){var t="keypress"===e.type?e.charCode:e.keyCode;return c[t]?c[t]:String.fromCharCode(t).toLowerCase()}function a(e){var t=o(e);return"shift"===t||"ctrl"===t||"alt"===t||"meta"===t}function i(e){var t=[];return a(e)||(e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta")),t.push(o(e)),t=t.sort().join("+")}function u(e){var t=r(e);return function(e){var n=i(e);if(t[n]){var r=t[n];if("function"==typeof r)return r(),!0;if("object"===("undefined"==typeof r?"undefined":l(r))&&r.callback)return r.preventDefault&&e.preventDefault(),r.stopPropagation&&e.stopPropagation(),r.callback(),!0;throw new Error("No callback specified for key handler")}return!1}}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getKeyFromEvent=o,t.isModifierKey=a,t.getComboFromEvent=i,t.default=u;var c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},d={option:"alt",command:"meta",return:"enter",escape:"esc",delete:"del",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"}},242:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{
default:e}}function o(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.default.Map,n=arguments[1];return t.withMutations(function(t){Object.keys(e).forEach(function(r){t.set(r,e[r](t.get(r),n))})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.combineImmutableReducers=o;var a=n(89),i=r(a)},243:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return("string"==typeof r||"number"==typeof r||Array.isArray(r)||u.default.isValidElement(r))&&t.splice(1,0,null),u.default.createElement.apply(u.default,t)}function a(e){return Object.keys(e).filter(function(t){return e[t]}).join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.h=o,t.classNames=a;var i=n(45),u=r(i)},244:function(e,t){"use strict";function n(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments[1];return t[r.type]?t[r.type](n,r):n}}Object.defineProperty(t,"__esModule",{value:!0}),t.createReducer=n},446:function(e,t){e.exports={container:"app_container_2vF85",title:"app_title_lS5kS",footer:"app_footer_13VhQ"}},447:function(e,t){},448:function(e,t){},537:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){s={header:[],prev:[],action:[],next:[],msgs:[]}}function o(){var e=s,t=e.header,r=e.prev,o=e.next,a=e.action,i=e.msgs;if(console.group){var u,l,c,d,f;(u=console).groupCollapsed.apply(u,n(t)),(l=console).log.apply(l,n(r)),(c=console).log.apply(c,n(a)),(d=console).log.apply(d,n(o)),(f=console).log.apply(f,n(i)),console.groupEnd()}else{var p,g,y,E,m;(p=console).log.apply(p,n(t)),(g=console).log.apply(g,n(r)),(y=console).log.apply(y,n(a)),(E=console).log.apply(E,n(o)),(m=console).log.apply(m,n(i))}}function a(e,t,n){return["%c"+e,"color: "+t+"; font-weight: bold",n]}function i(e,t){r(),d&&(console.group?(s.header=["%credux-undo","font-style: italic","action",e.type],s.action=a("action",f.action,e),s.prev=a("prev history",f.prevState,t)):(s.header=["redux-undo action",e.type],s.action=["action",e],s.prev=["prev history",t]))}function u(e){d&&(console.group?s.next=a("next history",f.nextState,e):s.next=["next history",e],o())}function l(){if(d){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.msgs=s.msgs.concat([].concat(t,["\n"]))}}function c(e){d=e}Object.defineProperty(t,"__esModule",{value:!0});var d=void 0,s=void 0,f={prevState:"#9E9E9E",action:"#03A9F4",nextState:"#4CAF50"};t.set=c,t.start=i,t.end=u,t.log=l},538:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){var n=(0,m.newHistory)([],e,[]);return t&&(n._latestUnfiltered=null),n}function i(e){return e.past.length+1}function u(e,t,n,r){y.log("inserting",t),y.log("new free: ",n-i(e));var a=e.past,u=e._latestUnfiltered,l=n&&i(e)>=n,c=a.slice(l?1:0),d=null!=u?[].concat(o(c),[u]):c;return(0,m.newHistory)(d,t,[],r)}function l(e,t){if(t<0||t>=e.future.length)return e;var n=e.past,r=e.future,a=e._latestUnfiltered,i=[].concat(o(n),[a],o(r.slice(0,t))),u=r[t],l=r.slice(t+1);return(0,m.newHistory)(i,u,l)}function c(e,t){if(t<0||t>=e.past.length)return e;var n=e.past,r=e.future,a=e._latestUnfiltered,i=n.slice(0,t),u=[].concat(o(n.slice(t+1)),[a],o(r)),l=n[t];return(0,m.newHistory)(i,l,u)}function d(e,t){return t>0?l(e,t-1):t<0?c(e,e.past.length+t):e}function s(e,t){return t.indexOf(e)>-1?e:!e}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y.set(t.debug);var n={initTypes:(0,m.parseActions)(t.initTypes,["@@redux-undo/INIT"]),limit:t.limit,filter:t.filter||function(){return!0},groupBy:t.groupBy||function(){return null},undoType:t.undoType||E.ActionTypes.UNDO,redoType:t.redoType||E.ActionTypes.REDO,jumpToPastType:t.jumpToPastType||E.ActionTypes.JUMP_TO_PAST,jumpToFutureType:t.jumpToFutureType||E.ActionTypes.JUMP_TO_FUTURE,jumpType:t.jumpType||E.ActionTypes.JUMP,clearHistoryType:Array.isArray(t.clearHistoryType)?t.clearHistoryType:[t.clearHistoryType||E.ActionTypes.CLEAR_HISTORY],neverSkipReducer:t.neverSkipReducer||!1,ignoreInitialState:t.ignoreInitialState||!1,syncFilter:t.syncFilter||!1},r=n.history;return function(){for(var t=arguments.length,o=Array(t>2?t-2:0),i=2;i<t;i++)o[i-2]=arguments[i];var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y.start(g,f);var h=f;if(!r)if(y.log("history is uninitialized"),void 0===f){var v={type:E.ActionTypes.CLEAR_HISTORY},b=e.apply(void 0,[f,v].concat(o));h=a(b,n.ignoreInitialState),y.log("do not set initialState on probe actions")}else(0,m.isHistory)(f)?(h=r=n.ignoreInitialState?f:(0,m.newHistory)(f.past,f.present,f.future),y.log("initialHistory initialized: initialState is a history",r)):(h=r=a(f,n.ignoreInitialState),y.log("initialHistory initialized: initialState is not a history",r));var S=function(t){return n.neverSkipReducer?p({},t,{present:e.apply(void 0,[t.present,g].concat(o))}):t},_=void 0;switch(g.type){case void 0:return h;case n.undoType:return _=d(h,-1),y.log("perform undo"),y.end(_),S(_);case n.redoType:return _=d(h,1),y.log("perform redo"),y.end(_),S(_);case n.jumpToPastType:return _=c(h,g.index),y.log("perform jumpToPast to "+g.index),y.end(_),S(_);case n.jumpToFutureType:return _=l(h,g.index),y.log("perform jumpToFuture to "+g.index),y.end(_),S(_);case n.jumpType:return _=d(h,g.index),y.log("perform jump to "+g.index),y.end(_),S(_);case s(g.type,n.clearHistoryType):return _=a(h.present),y.log("perform clearHistory"),y.end(_),S(_);default:if(_=e.apply(void 0,[h.present,g].concat(o)),n.initTypes.some(function(e){return e===g.type}))return y.log("reset history due to init action"),y.end(r),r;if(h._latestUnfiltered===_)return h;var A="function"==typeof n.filter&&!n.filter(g,_,h),T=n.groupBy(g,_,h);if(A){var C=(0,m.newHistory)(h.past,_,h.future,h.group);return n.syncFilter||(C._latestUnfiltered=h._latestUnfiltered),y.log("filter ignored action, not storing it in past"),y.end(C),C}if(null!=T&&T===h.group){var R=(0,m.newHistory)(h.past,_,h.future,h.group);return y.log("groupBy grouped the action with the previous action"),y.end(R),R}return h=u(h,_,n.limit,T),y.log("inserted new state into history"),y.end(h),h}}}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=f;var g=n(537),y=r(g),E=n(227),m=n(228);e.exports=t.default}});